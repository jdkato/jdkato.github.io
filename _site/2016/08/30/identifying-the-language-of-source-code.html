<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <link rel="icon" type="image/x-icon" href="/img/favicon-bar-chart.ico" />
    <title>On Identifying the Language of Source Code</title>
    <meta name="description" content="Language identification is typically associated with natural languages—identifying the language of Tweets, for example. However, after reading a challenge on...">

    <link rel="canonical" href="http://localhost:4000/2016/08/30/identifying-the-language-of-source-code.html">
    <link rel="alternate" type="application/rss+xml" title="jdkato.github.io" href="http://localhost:4000">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/bootstrap/bootstrap.min.css">
    
      <link rel="stylesheet" href="/vendor/bootstrap/non-responsive.css">
    
    <link rel="stylesheet" href="/css/style.css">
    
</head>


<body>
  <header class="site-header">
    <div class="wrapper">
        <nav class="navbar navbar-default navbar-static-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><i class="fa fa-bar-chart" aria-hidden="true"></i> jdkato.io</a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">

                        
                        <li>
                        
                            <a href="/">Home</a>
                        </li>

                        
                        <li>
                        
                            <a href="/projects">
                                Projects
                            </a>
                        </li>

                        
                        <li>
                        
                            <a href="/blog">
                                Blog
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</header>

  <div id="content" class="container">


<article>
    <header id="post-header">
        <h2 class="page-header" id="post-title">
            On Identifying the Language of Source Code
            <small>
                <i class="fa fa-calendar"></i>
                Aug. 30, 2016
            </small>
        </h2>
    </header>
    <div id="post-content"><p>Language identification is typically associated with natural languages—<a href="http://www.aclweb.org/anthology/W14-1303">identifying the language of Tweets</a>, for example. However, after reading a <a href="https://www.hackerrank.com/challenges/programming-language-detection">challenge on HackerRank</a> about detecting Java, C and Python, I became interested in its application to source code. I found a few other attempts at addressing this topic along the way:</p>

<ol>
  <li>
    <p><a href="http://blog.chrislowis.co.uk/2009/01/04/identify-programming-languages-with-source-classifier.html">SourceClassifier by Chris Lowis</a>, which identifies programming languages using a Bayesian classifier pre-trained on C, Java, JavaScript, Perl, Python and Ruby. This project has also been <a href="http://php-nlp-tools.com/blog/category/programming-language-detection/">ported to PHP</a>.</p>
  </li>
  <li>
    <p>A paper by <a href="https://github.com/simon-weber/Programming-Language-Identification">David Klein, Kyle Murray and Simon Weber</a> that discusses using punctuation, keywords and operators as a basis for the identification process. In their paper, they state 48% accuracy on 25 randomly selected source code files.</p>
  </li>
  <li>
    <p><a href="https://github.com/ts95/lang-detector">lang-detector by Toni Sučić</a>, which is a “fast and small library for detecting the programming language of a code snippet” implemented in JavaScript. It supports 10 languages.</p>
  </li>
  <li>
    <p><a href="https://algorithmia.com/algorithms/PetiteProgrammer/ProgrammingLanguageIdentification">A recent project by Daniël Heres</a> seems to have achieved impressive results using “machine learning and neural networks” across 18 supported languages. He states that, “for more than 99% of the documents we predict the right language in a random subset of the data we use for testing the performance of our model.”</p>
  </li>
</ol>

<p>I started working on my own solution, <a href="https://github.com/jdkato/codetype">codetype</a>, with the intent of pursuing a strategy similar to (2). My goals were to be accurate, fast and light-weight with minimal reliance on training data.</p>

<h3 id="strategy">Strategy</h3>

<p>My strategy is based on the creation of “signatures,” which are JSON files intended to provide a brief description of my target languages: AppleScript, C#, C++, C, D, Go, Haskell, Java, JavaScript, Julia, Lua, OCaml, Objective-C, Perl, PHP, Python, R, Ruby, Rust, Scala and Swift.</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"tokens"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"def"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Try"</span><span class="p">,</span><span class="w"> </span><span class="s2">"with"</span><span class="p">,</span><span class="w"> </span><span class="s2">"class"</span><span class="p">,</span><span class="w"> </span><span class="s2">"extends"</span><span class="p">,</span><span class="w"> </span><span class="s2">"val"</span><span class="p">,</span><span class="w"> </span><span class="s2">"case"</span><span class="p">,</span><span class="w"> </span><span class="s2">"implicit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Null"</span><span class="p">,</span><span class="w"> </span><span class="s2">"abstract"</span><span class="p">,</span><span class="w"> </span><span class="s2">"override"</span><span class="p">,</span><span class="w"> </span><span class="s2">"private"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Map("</span><span class="p">,</span><span class="w"> </span><span class="s2">"List("</span><span class="p">,</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"object"</span><span class="p">,</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w"> </span><span class="s2">"{"</span><span class="p">,</span><span class="w"> </span><span class="s2">"}"</span><span class="p">,</span><span class="w"> </span><span class="s2">":"</span><span class="p">,</span><span class="w"> </span><span class="s2">"=&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"@"</span><span class="p">,</span><span class="w"> </span><span class="s2">"`"</span><span class="p">,</span><span class="w"> </span><span class="s2">"~"</span><span class="p">,</span><span class="w"> </span><span class="s2">"-&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"++"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;-"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"first_line"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"^package\\s.+$"</span><span class="p">,</span><span class="w"> </span><span class="s2">"^import\\s[^'\"]*(?&lt;!from)$"</span><span class="p">,</span><span class="w"> </span><span class="s2">"^#!.+scala$"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"unique"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"forSome"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Var"</span><span class="p">,</span><span class="w"> </span><span class="s2">"match"</span><span class="p">,</span><span class="w"> </span><span class="s2">"lazy"</span><span class="p">,</span><span class="w"> </span><span class="s2">"trait"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Nil"</span><span class="p">,</span><span class="w"> </span><span class="s2">":::"</span><span class="p">,</span><span class="w"> </span><span class="s2">"???"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"flags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">":\n"</span><span class="p">,</span><span class="w"> </span><span class="s2">"window"</span><span class="p">,</span><span class="w"> </span><span class="s2">"document"</span><span class="p">,</span><span class="w"> </span><span class="s2">"function"</span><span class="p">,</span><span class="w"> </span><span class="s2">"type"</span><span class="p">,</span><span class="w"> </span><span class="s2">"switch"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"ignores"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"//"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/*"</span><span class="p">,</span><span class="w"> </span><span class="s2">"'"</span><span class="p">,</span><span class="w"> </span><span class="s2">"\""</span><span class="p">,</span><span class="w"> </span><span class="s2">"`"</span><span class="p">,</span><span class="w"> </span><span class="s2">"\"\"\""</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>As seen in the Scala example above, each signature consists of five keys:</p>

<ul>
  <li><strong>tokens</strong>: A combination of keywords, punctuation and operators that are indicative of a particular language.</li>
  <li><strong>first_line</strong>: A list of regular expressions designed to match statements typically found on the first line of source code. For example, many Scala files begin with <code class="highlighter-rouge">package &lt;...&gt;</code> while Python files often start with either an <code class="highlighter-rouge">import</code> statement or a <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a>.</li>
  <li><strong>unique</strong>: A list of tokens that are uncommon in other languages.</li>
  <li><strong>flags</strong>: A list of tokens that should not appear in one language but are found in similar languages. For instance, C# has a keyword <code class="highlighter-rouge">struct</code> but Java does not.</li>
  <li><strong>ignores</strong>: A list of tokens that represent the start of a line or block that should be excluded from consideration—such as comments and strings.</li>
</ul>

<p>These signatures are then used as a means of computing how similar a file or snippet is to each of codetype’s known languages.</p>

<h3 id="implementation">Implementation</h3>

<p>codetype’s core codebase consists 220 lines of Python (excluding comments) and 21 signatures for a total uncompressed weight of approximately 32 KB. <a href="http://msgpack.org/index.html">MessagePack</a> is the only external dependency.</p>

<p>Each language is associated with a “base project,” which I used to measure my progress on a per-language basis throughout development. The base projects are also used to create the MessagePack-formatted version of signatures. In addition to being in binary format, the distribution version of a signature also associates each token with its average number of occurrences in its base project.</p>

<p>When a file or string is passed to codetype, it is split into tokens according to <a href="https://github.com/jdkato/codetype/blob/master/codetype/re_globals.py#L1">this regular expression</a>. A signature is then generated from the tokens and compared to each known signature according to the following algorithm:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">total</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">found</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">mult</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">lines</span> <span class="o">&lt;</span> <span class="mi">15</span> <span class="k">else</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">known</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s">"first_line"</span><span class="p">,</span> <span class="s">"ignores"</span><span class="p">]:</span>
        <span class="k">continue</span>
    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s">"unique"</span><span class="p">:</span>
        <span class="n">inc</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">mult</span>
        <span class="n">found</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">inc</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">unknown</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">v</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s">"flags"</span><span class="p">:</span>
        <span class="n">found</span> <span class="o">-=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">4</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">unknown</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">v</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">test_value</span> <span class="o">=</span> <span class="n">unknown</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">test_value</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="n">v</span> <span class="o">-</span> <span class="n">test_value</span><span class="p">)</span>
            <span class="n">found</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mf">0.10</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">found</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">found</span> <span class="o">/</span> <span class="n">total</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre>
</div>

<p>The similarity scores for each known language are then filtered by their values for <code class="highlighter-rouge">first_line</code> and <code class="highlighter-rouge">ignores</code>:</p>

<ul>
  <li>If any known language matches both the unknown’s <code class="highlighter-rouge">first_line</code> and <code class="highlighter-rouge">ignores</code>, we consider that as the only possible match. If multiple languages match both, we take the one with the highest score.</li>
  <li>If both the unknown’s <code class="highlighter-rouge">first_line</code> and <code class="highlighter-rouge">ignores</code> have matches but their union is empty, we take the highest score across both sets.</li>
  <li>If only one of <code class="highlighter-rouge">first_line</code> and <code class="highlighter-rouge">ignores</code> have matches, we take the highest score from that set.</li>
  <li>If neither <code class="highlighter-rouge">first_line</code> nor <code class="highlighter-rouge">ignores</code> have matches, we simply take the highest score across all known languages.</li>
</ul>

<p>Consider, for example, the following output from codetype’s CLI tool:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>codetype <span class="s1">'print("Hello, world!")'</span> -v -m 4 <span class="c"># returns at most the top-4 guesses</span>
Python, Julia, Lua, Haskell
</code></pre>
</div>

<p>The code snippet <code class="highlighter-rouge">print("Hello, world!")</code> is syntactically valid in many of codetype’s supported languages. We can significantly narrow our candidate pool by making a slight change:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>codetype <span class="s1">'print("Hello, world!") -- this is a comment'</span> -v -m 4 
Haskell, Lua, AppleScript
</code></pre>
</div>

<p>The language signatures tell us that <code class="highlighter-rouge">--</code> is a comment character in only AppleScript, Haskell and Lua. This definitely increases the percentage of correctly identified files, but it also heavily relies on accurately identifying comment delimiters.</p>

<h3 id="results">Results</h3>

<p><strong>99.4%</strong> of files were correctly identified across the 21 base projects (14,281 files), with C (97.4%) being the least accurate. Haskell was the most common culprit in misidentification cases, contributing significantly to Python and Ruby. However, since the base projects were used to create and refine the signatures, these results are not particularly meaningful.</p>

<p>In order to better measure codetype’s ability to identify languages in the “wild,” I also tested a project from Github’s list of trending repositories for each language. In these randomly selected projects (7,084 files), <strong>97.8%</strong> of files were correctly identified. C and OCaml, at 92.9% and 92.2% respectively, were the least accurate. A summary of the results is shown below (click on a bar for more information).</p>

<div class="row">
  <div class="col-xs-12">
    <canvas id="base-acc-chart"></canvas>
  </div>
  <div class="col-xs-12">
    <div class="modal fade" id="myModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 class="modal-title" id="modal-lang"></h3>
          </div>
          <div class="modal-body">
            <p id="summary"></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<p>I also performed a head-to-head comparison between codetype, the work published by Klein et al., SourceClassifier (the PHP port) and lang-detector on the <a href="https://github.com/nbraud/benchmarksgame">Computer Language Benchmarks Game</a> (Heres’ work was not tested because it is not free to use).</p>

<table class="table">
   <caption>Computer Language Benchmarks Game</caption>
   <thead>
      <tr>
         <th>Tool</th>
         <th>Supported Languages</th>
         <th>Total Files</th>
         <th>Correctly Identified (%)</th>
         <th>Time Per File (sec)</th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td>codetype</td>
         <td>21</td>
         <td>621</td>
         <td>98.7</td>
         <td>0.037</td>
      </tr>
     <tr>
         <td>SourceClassifier</td>
         <td>16</td>
         <td>587</td>
         <td>92.5</td>
         <td>0.157</td>
      </tr>
      <tr>
         <td>lang-detector</td>
         <td>10</td>
         <td>372</td>
         <td>79.0</td>
         <td>0.005</td>
      </tr>
      <tr>
         <td>Klein et al.</td>
         <td>24</td>
         <td>643</td>
         <td>20.2</td>
         <td>3.364</td>
      </tr>
   </tbody>
</table>

<p>As you can see, codetype had the most success at identifying its supported languages while also being the second fastest per file. It is important to note, though, that the test results for both SourceClassifier and the work of Klein et. al are based solely on the training they provided (lang-detector does not require training).</p>

<p>Finally, in an attempt to measure codetype’s ability to identify code snippets (rather than complete files), I used the <a href="https://github.com/leachim6/hello-world">“Hello world in every programming language”</a> project. <strong>90.5%</strong> (19 / 21) of the “Hello, world” snippets were correctly identified. Lua and Swift were both misidentified as Python. However, the code snippet in both cases—<code class="highlighter-rouge">print("Hello World")</code>—was in fact syntactically valid Python.</p>

<h3 id="conclusion">Conclusion</h3>

<p>I consider the results discussed above to be a promising start, but there are improvements to be made. Text parsing is the most notable area of need: there is currently no support for distinguishing between, for example, <code class="highlighter-rouge">//</code> as a comment delimiter and a division operator. This is an even larger issue for languages, such as Matlab, that use common operators as comment delimiters. I believe the key to solving this issue is to consider comments within the overall context of their source. In other words, if a file appears to be non-Matlab according to its tokens and first_line matches, then <code class="highlighter-rouge">%</code> is probably not a comment delimiter.</p>

<p>Another means of improving comment detection (and consequently language detection) could be adding a signature key for “function definitions.” The primary goal of signatures is to be brief, but I believe that enough languages have a construct along the lines of a “function” to warrant its inclusion.</p>

<p>A second area in need of improvement is analysis of first_line patterns. Currently, only the first non-comment line is considered. However, in reality, there are often many lines that could be considered a “first line” match. Take, for instance, the following Python code snippet:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">fabs</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>

<span class="k">def</span> <span class="nf">foo</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">import sys</code> is only so useful as many languages have similar statements. Including the subsequent <code class="highlighter-rouge">from &lt;...&gt; import &lt;...&gt;</code> statements in our analysis would allow us to consider a much smaller candidate list.</p>

<p>Finally, I would like to eliminate the process of scanning each file in the base projects (as mentioned in the implementation section). This aligns with codetype’s secondary goals of being standalone (i.e., requiring nothing along the lines of “training data”), light-weight and fast. I currently do this to account for some tokens being more common than others, but ultimately I think it is an unnecessary step. In the future, I plan on creating a “point system” of sorts in which tokens can be hand-assigned values based on their frequency in a given language.</p>

<p>Check back for future updates!</p>

<h3 id="further-reading">Further Reading</h3>

<p>You may be interested in reading <em><a href="http://dare.uva.nl/cgi/arno/show.cgi?fid=636817">Identifying source code programming languages through natural language processing</a></em> and <em><a href="http://cs229.stanford.edu/proj2013/SchusterZhuCheng-PredictingTagsforStackOverflowQuestions.pdf">Predicting Tags for StackOverflow Questions</a></em>. There is also Github’s <a href="https://github.com/github/linguist">Linguist</a>, a project with the goal of identifying files contained in Git repositories.</p>

</div>
</article>


<ul class="tag-box list-inline list-unstyled">
  <li class="tag-icon"><i class="fa fa-tags" aria-hidden="true"></i></li>

  
    <li><a class="label label-success" href="/tags#Projects-ref">Projects <span class="tag-size">2</span></a></li>
  

</ul>



</div>
  <div class="footer-wrapper">
  <footer class="footer">
    <div class="container text-center">
      &copy; 2017 Joseph Kato, unless otherwise noted &nbsp;|&nbsp;
      <a href="https://github.com/jdkato">
        <i class="fa fa-github-square fa-lg"></i>
      </a>
      &nbsp;|&nbsp;
      <a href="mailto:joseph@jdkato.io">
        <i class="fa fa-envelope fa-lg"></i>
      </a>
      &nbsp;|&nbsp;
      <a href="/feed.xml">
        <i class="fa fa-rss fa-lg"></i>
      </a>
      <span class="mobile-hide">
        &nbsp;|&nbsp;
        Powered by GitHub Pages, Bootstrap &amp; Jekyll
      </span>
    </div>
  </footer>
</div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" type="text/javascript"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
  <script src="/vendor/ZeroClipboard/ZeroClipboard.min.js" type="text/javascript"></script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/javascript">
  MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
      inlineMath: [ ['$', '$']],
      displayMath: [ ['$$', '$$'] ],
      processEscapes: true
    }
  })
  </script>
  <script type="text/javascript">
  [].forEach.call(document.getElementsByTagName('table'), function(el) {
    el.classList.add('table', 'table-responsive', 'table-striped')
  })
  </script>
  <script type="text/javascript">
    [].forEach.call(document.getElementsByClassName('table-demo'), function(el) {
    el.classList.remove('table-striped')
  })
  </script>
  <script type="text/javascript">
  ZeroClipboard.config({
    moviePath: '/vendor/ZeroClipboard/ZeroClipboard.swf',
    hoverClass: 'btn-clipboard-hover'
  })

  $('.highlight').each(function() {
    var btnHtml = '<div class="zero-clipboard mobile-hide"><span class="btn-clipboard">Copy</span></div>'
    $(this).before(btnHtml)
  })
  var zeroClipboard = new ZeroClipboard($('.btn-clipboard'))
  var $htmlBridge = $('#global-zeroclipboard-html-bridge')

  zeroClipboard.on('load', function() {
    $htmlBridge.data('placement', 'top').attr('title', 'Copy to clipboard').tooltip();
  })

  zeroClipboard.on('dataRequested', function(client) {
    var highlight = $(this).parent().nextAll('.highlight').first()
    client.setText(highlight.text())
  })

  zeroClipboard.on('complete', function() {
    $htmlBridge
      .attr('title', 'Copied!')
      .tooltip('fixTitle')
      .tooltip('show')
      .attr('title', 'Copy to clipboard')
      .tooltip('fixTitle');
  })

  zeroClipboard.on('noflash wrongflash', function() {
    $('.zero-clipboard').remove()
    ZeroClipboard.destroy()
  })
  </script>
  <script type="text/javascript">
  $('[data-toggle="popover"]').popover({
    'trigger': 'hover',
    'placement': 'top',
    'html': true
  })
  </script>
  
  
    <script src='/vendor/Chart.bundle.min.js' type="text/javascript"></script>
  
    <script src='/js/2016-08-30.js' type="text/javascript"></script>
  
  
</body>

</html>
