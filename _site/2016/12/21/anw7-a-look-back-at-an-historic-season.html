<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <link rel="icon" type="image/x-icon" href="/img/favicon-bar-chart.ico" />
    <title>ANW7 (Part 1): A Look Back at a Historic Season</title>
    <meta name="description" content="I have not missed an episode of American Ninja Warrior (ANW) since its fourth season in 2012. And while ANW is certainly more of a reality TV show than a tra...">

    <link rel="canonical" href="http://localhost:4000/2016/12/21/anw7-a-look-back-at-an-historic-season.html">
    <link rel="alternate" type="application/rss+xml" title="jdkato.github.io" href="http://localhost:4000">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/bootstrap/bootstrap.min.css">
    
      <link rel="stylesheet" href="/vendor/bootstrap/non-responsive.css">
    
    <link rel="stylesheet" href="/css/style.css">
    
      
        <link rel="stylesheet" href="/vendor/highcharts/highslide.min.css" media="screen" type="text/css">
      
        <link rel="stylesheet" href="/css/2016-09-09.css" media="screen" type="text/css">
      
    
</head>


<body>
  <header class="site-header">
    <div class="wrapper">
        <nav class="navbar navbar-default navbar-static-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><i class="fa fa-bar-chart" aria-hidden="true"></i> jdkato.io</a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">

                        
                        <li>
                        
                            <a href="/">Home</a>
                        </li>

                        
                        <li>
                        
                            <a href="/projects">
                                Projects
                            </a>
                        </li>

                        
                        <li>
                        
                            <a href="/blog">
                                Blog
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</header>

  <div id="content" class="container">


<article>
    <header id="post-header">
        <h2 class="page-header" id="post-title">
            ANW7 (Part 1): A Look Back at a Historic Season
            <small>
                <i class="fa fa-calendar"></i>
                Dec. 21, 2016
            </small>
        </h2>
    </header>
    <div id="post-content"><p>I have not missed an episode of <a href="https://en.wikipedia.org/wiki/American_Ninja_Warrior">American Ninja Warrior</a> (ANW) since its fourth season in 2012. And while ANW is certainly more of a reality TV show than a traditional sport, it feels like too little emphasis is placed on its few sport-like qualities. This is perhaps most evident in the practically nonexistent use of data and statistics—two cornerstones of most sports. Questions like “What’s Elet Hall’s average time on the Quintuple Steps?” or “How long does Joe Moravsky usually rest between obstacles?” go largely unanswered.</p>

<p>In an attempt to answer some of these questions, I’ve collected data on every televised run during season 7. In a series of posts, I intend to discuss the process, my findings, a few opportunities for visualizations, and a new statistic—similar to the NBA’s <a href="https://en.wikipedia.org/wiki/Player_efficiency_rating">Player Efficiency Rating</a>—that will aid in the creation of ANW power rankings.</p>

<h3 id="data-collection">Data Collection</h3>

<p>Obviously, there are a number of challenges involved in trying to take accurate splits from a TV broadcast—a few of which are outlined below.</p>

<ol>
  <li><strong>Misrepresentation of elapsed time</strong>: You’ll notice that in many runs there are “jumps” in time. For example, after showing a competitor’s family for three seconds, the clock will have jumped 40 seconds.</li>
  <li><strong>Camera panning</strong>: The key points for split-taking are when a competitor starts and completes an obstacle. Unfortunately, these moments are not always available to the viewer.</li>
  <li><strong>Not every competitor is shown</strong>: A competitor’s run can be completely shown, partially shown, or not shown at all.</li>
</ol>

<p>The workaround for (1) is to only use the official clock (rather than a stopwatch, for instance). This ensures that the split estimates sum to the official run time. Consider, for example, Kevin Bull’s Qualifying run from season 7:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Transition</th>
      <th style="text-align: center">Elapsed Time (sec)</th>
      <th style="text-align: center">Obstacle</th>
      <th style="text-align: center">Elapsed Time (sec)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">Quintuple Steps</td>
      <td style="text-align: center">2.73</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">7.09</td>
      <td style="text-align: center">Mini Silk Slider</td>
      <td style="text-align: center">2.41</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">1.07</td>
      <td style="text-align: center">Tilting Table</td>
      <td style="text-align: center">1.29</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">1.14</td>
      <td style="text-align: center">Spin Cycle</td>
      <td style="text-align: center">8.93</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">3.50</td>
      <td style="text-align: center">Hourglass Drop</td>
      <td style="text-align: center">18.91</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">5.56</td>
      <td style="text-align: center">Warped Wall</td>
      <td style="text-align: center">3.77</td>
    </tr>
  </tbody>
</table>

<p>We see that the sum of Kevin’s individual splits (56.4 seconds) matches his <a href="http://sasukepedia.wikia.com/wiki/American_Ninja_Warrior_7">official clocking</a>. And while this may seem rather time consuming at first glance, it doesn’t require much more effort than simply watching does. This is especially true since I’ve written two simple Python scripts to do most of the heavy lifting: <a href="https://gist.github.com/jdkato/e2b5fabe2daf795e2438469c944d4409">split_taking.py</a> (for courses with no time limit) and <a href="https://gist.github.com/jdkato/072f400daef57191283123351fad328e">split_taking_mt.py</a> (for courses with a time limit—e.g., 2:30.00).</p>

<p>(2) and (3), on the other hand, are simply limitations of the method: we’re going to have incomplete data due to some runs not being shown and we’re going to have some inaccuracy introduced by inconvenient camera positions. That said, I still think this project provides an interesting look at the role that data and statistics could play in ANW.</p>

<h3 id="the-database">The Database</h3>

<p><img src="/img/database.png" alt="Database Structure" class="img-thumbnail" /></p>

<p>As I watched each episode, I created CSV files consisting of rows like the following:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Kevin Bull,30,M,2.73,7.09,2.41,1.07,1.29,1.14,8.93,3.50,18.91,5.56,3.77,56.4,Completed
</code></pre>
</div>

<p>These CSV files are then converted into a SQLite database (the structure of which is shown above), making the answers to many interesting questions a mere query away. For example, the fastest times on the Quintuple Steps from Venice Qualifying:</p>

<ul class="nav nav-tabs" id="product-table">
  <li><a href="#1" data-toggle="tab">Results</a></li>
  <li><a href="#2" data-toggle="tab">Query</a></li>
</ul>
<div class="tab-content">
  <div class="tab-pane" id="1">
    <table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">City</th>
<th align="left">Category</th>
<th align="right">Time (sec)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Kevin Bull</td>
<td align="left">Venice</td>
<td align="left">Qualifying</td>
<td align="right">2.73</td>
</tr>
<tr class="even">
<td align="left">Brendon Ayanbadejo</td>
<td align="left">Venice</td>
<td align="left">Qualifying</td>
<td align="right">2.91</td>
</tr>
<tr class="odd">
<td align="left">David Campbell</td>
<td align="left">Venice</td>
<td align="left">Qualifying</td>
<td align="right">2.92</td>
</tr>
<tr class="even">
<td align="left">Alan Connealy</td>
<td align="left">Venice</td>
<td align="left">Qualifying</td>
<td align="right">3.03</td>
</tr>
<tr class="odd">
<td align="left">Brian Kretsch</td>
<td align="left">Venice</td>
<td align="left">Qualifying</td>
<td align="right">3.86</td>
</tr>
</tbody>
</table>
  </div>
  <div class="tab-pane" id="2">
    <div class="language-sql highlighter-rouge"><div class="zero-clipboard mobile-hide"><span class="btn-clipboard">Copy</span></div><pre class="highlight"><code><span class="k">SELECT</span>
    <span class="n">Ninja</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
    <span class="n">Course</span><span class="p">.</span><span class="n">city</span><span class="p">,</span>
    <span class="n">Course</span><span class="p">.</span><span class="n">category</span><span class="p">,</span>
    <span class="n">ObstacleResult</span><span class="p">.</span><span class="n">time</span>
<span class="k">FROM</span> <span class="n">ObstacleResult</span>
<span class="k">JOIN</span> <span class="n">Ninja</span>
    <span class="k">ON</span> <span class="p">(</span><span class="n">ObstacleResult</span><span class="p">.</span><span class="n">ninja_id</span><span class="o">=</span><span class="n">Ninja</span><span class="p">.</span><span class="n">id</span><span class="p">)</span>
<span class="k">JOIN</span> <span class="n">Obstacle</span>
    <span class="k">ON</span> <span class="p">(</span><span class="n">ObstacleResult</span><span class="p">.</span><span class="n">obstacle_id</span><span class="o">=</span><span class="n">Obstacle</span><span class="p">.</span><span class="n">id</span><span class="p">)</span>
<span class="k">JOIN</span> <span class="n">Course</span>
    <span class="k">ON</span> <span class="p">(</span><span class="n">Obstacle</span><span class="p">.</span><span class="n">course_id</span><span class="o">=</span><span class="n">Course</span><span class="p">.</span><span class="n">id</span><span class="p">)</span>
<span class="k">WHERE</span> <span class="p">(</span><span class="n">Obstacle</span><span class="p">.</span><span class="n">obstacle_name</span><span class="o">=</span><span class="nv">"Quintuple Steps"</span> <span class="k">AND</span> <span class="n">ObstacleResult</span><span class="p">.</span><span class="n">completed</span><span class="o">=</span><span class="mi">1</span> <span class="k">AND</span> <span class="n">Course</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ObstacleResult</span><span class="p">.</span><span class="n">time</span> <span class="k">ASC</span>
</code></pre>
</div>
  </div>
</div>

<p>I’m sure this list isn’t particularly surprising to anyone who follows ANW but, as you can probably imagine, a database like this can answer <em>many</em> more questions (some of which will be discussed in subsequent posts).</p>

<h3 id="run-flow">Run Flow</h3>

<p>The first visualization we’re going to discuss is called the “Run Flow.” It attempts to provide a means for both analyzing an individual run and comparing two different runs. Check it out below!</p>

<form class="bs-example bs-example-form" data-example-id="input-group-with-button">
    <div class="row">
        <div class="form-group col-sm-6">
            <label for="comp1" class="h4">Ninja 1</label>
            <input type="text" class="form-control" id="comp1" placeholder="Kevin Bull" data-provide="typeahead" autocomplete="off" />
        </div>
        <div class="form-group col-sm-6">
            <label for="comp2" class="h4">Ninja 2</label>
            <input type="text" class="form-control" id="comp2" placeholder="Alan Connealy" data-provide="typeahead" autocomplete="off" />
        </div>
    </div>
    <div id="container" style="min-width: 310px;min-height: 400px; margin: 0 auto"></div>
</form>

<p>As you can see, the default parameters compare the two fastest runners of the night: Kevin Bull and Alan Connealy. It was a fairly tight race until the third transition, at which point Bull pulled away for good. Another interesting comparison is between Alan Connealy and Nicholas Coolridge, who collectively had the closest finishing times of the night.</p>

<h3 id="up-next">Up Next</h3>

<p><a href="https://jdkato.github.io/2016/12/26/anw7-the-road-to-mount-midoriyama.html">In the next post</a> in this series, I plan to take a closer look at the Qualifying and City Finals episodes: Which course and obstacle were the most difficult? Who had the most impressive run?</p>

<p>I’ve also considered making this data freely available through a website consisting of information such as a leaderboard (overall, men, and women) of the top-15 competitors and an individualized profile page for each competitor containing career, course and obstacle statistics. I’ll discuss this idea more thoroughly in future posts but, in the meantime, you can stop by the project’s <a href="https://github.com/jdkato/ninjaref">Github repository</a>.</p>

<p>As always, feel free to <a href="/">contact me</a> with any comments or suggestions.</p>
</div>
</article>


<ul class="tag-box list-inline list-unstyled">
  <li class="tag-icon"><i class="fa fa-tags" aria-hidden="true"></i></li>

  
    <li><a class="label label-success" href="/tags#ANW-ref">ANW <span class="tag-size">2</span></a></li>
  

</ul>



</div>
  <div class="footer-wrapper">
  <footer class="footer">
    <div class="container text-center">
      &copy; 2017 Joseph Kato, unless otherwise noted &nbsp;|&nbsp;
      <a href="https://github.com/jdkato">
        <i class="fa fa-github-square fa-lg"></i>
      </a>
      &nbsp;|&nbsp;
      <a href="mailto:joseph@jdkato.io">
        <i class="fa fa-envelope fa-lg"></i>
      </a>
      &nbsp;|&nbsp;
      <a href="/feed.xml">
        <i class="fa fa-rss fa-lg"></i>
      </a>
      <span class="mobile-hide">
        &nbsp;|&nbsp;
        Powered by GitHub Pages, Bootstrap &amp; Jekyll
      </span>
    </div>
  </footer>
</div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" type="text/javascript"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
  <script src="/vendor/ZeroClipboard/ZeroClipboard.min.js" type="text/javascript"></script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script type="text/javascript">
  MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
      inlineMath: [ ['$', '$']],
      displayMath: [ ['$$', '$$'] ],
      processEscapes: true
    }
  })
  </script>
  <script type="text/javascript">
  [].forEach.call(document.getElementsByTagName('table'), function(el) {
    el.classList.add('table', 'table-responsive', 'table-striped')
  })
  </script>
  <script type="text/javascript">
    [].forEach.call(document.getElementsByClassName('table-demo'), function(el) {
    el.classList.remove('table-striped')
  })
  </script>
  <script type="text/javascript">
  ZeroClipboard.config({
    moviePath: '/vendor/ZeroClipboard/ZeroClipboard.swf',
    hoverClass: 'btn-clipboard-hover'
  })

  $('.highlight').each(function() {
    var btnHtml = '<div class="zero-clipboard mobile-hide"><span class="btn-clipboard">Copy</span></div>'
    $(this).before(btnHtml)
  })
  var zeroClipboard = new ZeroClipboard($('.btn-clipboard'))
  var $htmlBridge = $('#global-zeroclipboard-html-bridge')

  zeroClipboard.on('load', function() {
    $htmlBridge.data('placement', 'top').attr('title', 'Copy to clipboard').tooltip();
  })

  zeroClipboard.on('dataRequested', function(client) {
    var highlight = $(this).parent().nextAll('.highlight').first()
    client.setText(highlight.text())
  })

  zeroClipboard.on('complete', function() {
    $htmlBridge
      .attr('title', 'Copied!')
      .tooltip('fixTitle')
      .tooltip('show')
      .attr('title', 'Copy to clipboard')
      .tooltip('fixTitle');
  })

  zeroClipboard.on('noflash wrongflash', function() {
    $('.zero-clipboard').remove()
    ZeroClipboard.destroy()
  })
  </script>
  <script type="text/javascript">
  $('[data-toggle="popover"]').popover({
    'trigger': 'hover',
    'placement': 'top',
    'html': true
  })
  </script>
  
  
    <script src='/vendor/highcharts/highcharts.min.js' type="text/javascript"></script>
  
    <script src='/vendor/highcharts/highcharts-more.min.js' type="text/javascript"></script>
  
    <script src='/vendor/highcharts/data.min.js' type="text/javascript"></script>
  
    <script src='/vendor/bootstrap3-typeahead.min.js' type="text/javascript"></script>
  
    <script src='/js/2016-09-17.js' type="text/javascript"></script>
  
    <script src='/js/2016-12-21.js' type="text/javascript"></script>
  
  
</body>

</html>
